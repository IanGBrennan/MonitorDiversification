}
else {
ret <- ret[[setdiff(1:raster::nlayers(ret), smallSp)]]
}
return(ret)
}
rangeStack <- rasterStack2(rangesoz, resolution=0.5)
lapply(polyList, sp::proj4string)
lapply(rangesoz, sp::proj4string)
library(sp)
rangeStack <- rasterStack2(rangesoz, resolution=0.5)
setwd("~/Documents/GitHub/MonitorDiversification/Data")
require("knitr")
knitr::opts_chunk$set(echo = TRUE)
opts_knit$set(root.dir = "~/Documents/GitHub/MonitorDiversification/Data")
vtree <- read.tree("UsedTree.tre");
library(dplyr)
library(treeplyr)
library(RCurl)
library(phytools)
library(RColorBrewer)
library(ggplot2)
library(DAISIE)
# remember 'plyr' and 'dplyr' conflict, so don't load 'plyr'
vtree <- read.tree("UsedTree.tre");
getwd()
opts_knit$set(root.dir = "~/Documents/GitHub/MonitorDiversification/Data/")
vtree <- read.tree("UsedTree.tre")
vtree <- read.tree("/Users/ianbrennan/Documents/GitHub/MonitorDiversification/Data/UsedTree.tre")
library(RPANDA)
clads2.varanus <- fit_ClaDS(tree = vtree,
sample_fraction = (76/83),
iterations = 100000,
thin = 100,
#it_save = 10000,
file_name = "Monitor_ClaDS2",
model_id = "ClaDS2",
nCPU = 3)
clads2.varanus <- fit_ClaDS(tree = vtree,
sample_fraction = (76/83),
iterations = 10000,
thin = 100,
#it_save = 10000,
file_name = "Monitor_ClaDS2",
model_id = "ClaDS2",
nCPU = 3)
plot_ClaDS_chains(clads2.varanus)
nrow(clads2.varanus)
maps <- getMAPS_ClaDS(clads2.varanus, thin = 10)
print(paste0("sigma = ", maps[1], " ; alpha = ",
maps[2], " ; epsilon = ", maps[3], " ; l_0 = ", maps[4] ))
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)])
c2_run1 <- data("Monitor_ClaDS2")
c2_run1 <- readRDS("Monitor_ClaDS2")
getwd
getwd()
saveRDS(clads2.varanus, file="ClaDS2_Varanus.RDS")
c2_run1 <- readRDS("ClaDS2_Varanus")
c2_run1 <- readRDS("ClaDS2_Varanus.RDS")
testo <- readRDS("ClaDS2_Varanus.RDS")
testo
c2_run1 <- readRDS("ClaDS2_Varanus.RDS")
c2_run1 <- readRDS("~/Documents/GitHub/MonitorDiversification/Data/ClaDS2_Varanus.RDS")
c2_run1 <- readRDS("~/Documents/GitHub/MonitorDiversification/Data/ClaDS2_Varanus.RDS")
maps <- getMAPS_ClaDS(c2_run1, thin = 10)
plot_ClaDS_phylo(vtree, maps[-(1:4)])
c2_run1 <- readRDS("~/Documents/GitHub/MonitorDiversification/Data/ClaDS2_Varanus.RDS")
plot_ClaDS_chains(c2_run1)
c2.varanus <- fit_ClaDS(tree = vtree,
sample_fraction = (76/83),
iterations = 1000000,
thin = 1000,
#it_save = 10000,
file_name = "C2_Varanus",
model_id = "ClaDS2",
nCPU = 3)
c2.varanus
c2.varanus <- readRDS("C2_Varanus.RDS")
c2.varanus <- readRDS("C2_Varanus")
c2.varanus <- load("C2_Varanus.rdata")
c2.varanus
mcmcSampler
testi <- readRDS("C2_Varanus.RDS")
testi <- load("C2_Varanus.RData")
testi
testi[[1]]
load("C2_Varanus")
testa <- load("C2_Varanus")
c2.varanus
load("C2_Varanus")
load("C2_Varanus")
testo <- load("C2_Varanus")
c2.varanus <- mcmcSampler
plot_ClaDS_chains(c2.varanus)
maps <- getMAPS_ClaDS(c2.varanus, thin = 10)
print(paste0("sigma = ", maps[1], " ; alpha = ",
maps[2], " ; epsilon = ", maps[3], " ; l_0 = ", maps[4] ))
vtree <- read.tree("UsedTree.tre")
vtree <- read.tree("UsedTree.tre")
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)])
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd=3)
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd=4)
plot_ClaDS_phylo
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd=4, log=T)
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd=4, log=F)
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd = 4,
log=T, show.tip.label = T)
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd = 4,
log=T, show.tip.label = T)
maps
vtree$edge
elen <- vtree$edge
elen[,3] <- maps
maps
vtree$edge.length
isTRUE(all.equal(rep(as.numeric(maps[1]), length(maps)), as.numeric(maps)))
Colors = colorRampPalette(c("steelblue2", "paleturquoise3",
"palegreen2", "yellow2", "salmon1", "darkorange", "red",
"red4"))(100)
image.plot(z = c(maps[1], 2 * maps[1]), col = Colors, horizontal = T, legend.only = T)
fields::image.plot(z = c(maps[1], 2 * maps[1]), col = Colors, horizontal = T, legend.only = T)
fields::image.plot(z = c(maps[1], 2 * maps[1]), col = Colors, horizontal = T, legend.only = T)
fields::image.plot(z = c(maps[1], 2 * maps[1]), col = Colors, horizontal = T, legend.only = T)
plot(vtree, edge.color = Colors[151])
length(maps)
plot(vtree, edge.color = Colors[154])
plot(vtree, edge.color = "green")
all.equal(rep(as.numeric(rates[1]), length(rates)),
as.numeric(rates))
all.equal(rep(as.numeric(maps[1]), length(maps)), as.numeric(maps))
rep(maps[1], length(maps))
col = round((maps - min(maps))/diff(range(maps)) * 99) + 1
col
rm(col)
round((maps - min(maps))/diff(range(maps)) * 99) + 1
col = round((maps - min(maps))/diff(range(maps)) * 99) + 1
plot(vtree, edge.color = Colors[col])
plot(vtree, edge.color = Colors[col], lwd=4)
plot(vtree, edge.color = Colors[col], edge.width = 4)
length(vtree$edge.length)
plot(vtree, edge.color = Colors[3])
plot(vtree, edge.color = Colors[100])
plot(vtree, edge.color = Colors[col], edge.width = 5)
plot(vtree, edge.color = Colors[col[1:150]], edge.width = 5)
plot(vtree, edge.color = Colors[col[1:140]], edge.width = 5)
plot(vtree); edgelabels(fr="c", col="white")
plot(vtree); edgelabels(fr="c", bg="white")
plot(vtree); edgelabels(fr="c", bg="white", cex=1)
plot(vtree); edgelabels(fr="c", bg="white", cex=0.3)
plot(vtree); edgelabels(fr="c", bg="white", cex=0.4)
maps
# plot the infered branch specific speciation rates
plot_ClaDS_phylo(vtree, maps[-(1:4)], lwd = 4,
log=T, show.tip.label = T)
plot_ClaDS_phylo(vtree, maps, lwd = 4,
log=T, show.tip.label = T)
plot(vtree); edgelabels(bg = "white", fr="c", cex=0.4)
plot(vtree); nodelabels(bg = "white", fr="c", cex=0.4)
testo <- extract.clade(vtree, 83)
plot(test); edgelabels()
plot(testo); edgelabels()
extract.ClaDS.rates <- function(rates, min.branch, max.branch){
clade.rates <- rates[(min.branch + 4):(max.branch + 4)]
return(clade.rates)
}
odatria.rates <- extract.ClaDS.rates(maps, 7, 49)
densityplot(maps)
par(mfrow=c(1,2)); densityplot(maps); densityplot(odatria.rates)
plot(density(odatria.rates))
plot(density(odatria.rates)); plot(density(maps))
plot(density(odatria.rates)); plot(density(maps))
par(mfrow=c(1,2))
plot(density(odatria.rates)); plot(density(maps))
plot(vtree); edgelabels(bg = "white", fr="c", cex=0.4)
plot(vtree); edgelabels(bg = "white", fr="c", cex=0.4)
euprepiosaurus.rates <- extract.ClaDS.rates(maps, 69, 83)
par(mfrow=c(1,2)); plot(density(odatria.rates)); plot(density(euprepiosaurus.rates))
all.rates <- data.frame(sp_rates = odatria.rates, group = "Odatria")
all.rates <- rbind(all.rates, data.frame(sp_rates = euprepiosaurus.rates, group = "Euprepiosaurus"))
hapturo.rates <- extract.ClaDS.rates(maps, 69, 83)
euprep.rates  <- extract.ClaDS.rates(maps, 83, 101)
varanus.rates <- extract.ClaDS.rates(maps, 50, 66)
sotero.rates  <- extract.ClaDS.rates(maps, 119, 137)
empagus.rates <- extract.ClaDS.rates(maps, 112, 118)
african.rates <- extract.ClaDS.rates(maps, 139, 149)
odatria.rates <- extract.ClaDS.rates(maps, 7, 49)
hapturo.rates <- extract.ClaDS.rates(maps, 69, 83)
euprep.rates  <- extract.ClaDS.rates(maps, 83, 101)
varanus.rates <- extract.ClaDS.rates(maps, 50, 66)
sotero.rates  <- extract.ClaDS.rates(maps, 119, 137)
empagus.rates <- extract.ClaDS.rates(maps, 112, 118)
african.rates <- extract.ClaDS.rates(maps, 139, 149)
library(dplyr)
all.rates
add_row(all.rates, sp_rates = african.rates, group = "African")
add_row(all.rates, sp_rates = african.rates, group = "Polydaedalus_Psammosaurus")
all.rates <- data.frame(all.rates, sp_rates = hapturo.rates, group = "Hapturosaurus")
all.rates <- data.frame(sp_rates = odatria.rates, group = "Odatria")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Hapturosaurus")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Varanus_Philippinosaurus")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Soterosaurus")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Empagusia")
all.rates <- add_row(all.rates, sp_rates = african.rates, group = "Polydaedalus_Psammosaurus")
all.rates
library(ggridges)
library(ggplot2)
ggplot(all.rates, aes(x=sp_rates, y=group, fill=stat(x))) +
geom_density_ridges()
ggplot(all.rates, aes(x=sp_rates, y=group, fill=stat(x))) +
geom_density_ridges_gradient()
all.rates <- data.frame(sp_rates = odatria.rates, group = "Odatria")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Hapturosaurus")
all.rates <- add_row(all.rates, sp_rates = euprep.rates , group = "Euprepiosaurus")
all.rates <- add_row(all.rates, sp_rates = varanus.rates, group = "Varanus_Philippinosaurus")
all.rates <- add_row(all.rates, sp_rates = sotero.rates , group = "Soterosaurus")
all.rates <- add_row(all.rates, sp_rates = empagus.rates, group = "Empagusia")
all.rates <- add_row(all.rates, sp_rates = african.rates, group = "Polydaedalus_Psammosaurus")
ggplot(all.rates, aes(x=sp_rates, y=group, fill=stat(x))) +
geom_density_ridges_gradient()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates), point_color=sp_rates) +
geom_density_ridges_gradient()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=stat(sp_rates)), point_color=sp_rates) +
geom_density_ridges_gradient()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=stat(x)), point_color=sp_rates) +
geom_density_ridges_gradient()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "l")
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "z")
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = ".")
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "|")
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "|",
point_size = 3, size = 0.25)
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "|",
point_size = 3, size = 0.25,
position = position_points_jitter(height=0))
all.rates <- data.frame(sp_rates = odatria.rates, group = "Odatria")
all.rates <- add_row(all.rates, sp_rates = hapturo.rates, group = "Hapturosaurus")
all.rates <- add_row(all.rates, sp_rates = euprep.rates , group = "Euprepiosaurus")
all.rates <- add_row(all.rates, sp_rates = varanus.rates, group = "Varanus_Papusaurus")
all.rates <- add_row(all.rates, sp_rates = sotero.rates , group = "Soterosaurus")
all.rates <- add_row(all.rates, sp_rates = empagus.rates, group = "Empagusia")
all.rates <- add_row(all.rates, sp_rates = african.rates, group = "Polydaedalus_Psammosaurus")
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 0.95,
rel_min_height = 0.1, point_shape = "|",
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
rel_min_height = 0.1, point_shape = "|",
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|",
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 5,
point_shape = "|", alpha = 0.5
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 5,
point_shape = "|", alpha = 0.5,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
fill=sp_rates, point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
point_shape = "|", alpha = 0.5,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
point_shape = "|", alpha = 0.5,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
point_shape = "|", alpha = 0.5,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
point_shape = "|", alpha = 0.75,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
alpha = 0.75,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 3,
point_shape = "|", alpha = 0.75,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 3, size = 0.25,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 3, size = 1,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 10, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5, point_width = 3
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5, point_width = 3,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
load(C2_Varanus_200K.RData)
load("C2_Varanus_200K.RData")
load("/Users/ianbrennan/Documents/GitHub/MonitorDiversification/Data/C2_Varanus_200K.RData")
load("~/Documents/GitHub/MonitorDiversification/Data/C2_Varanus_200K.RData")
print(paste0("sigma = ", maps[1], " ; alpha = ",
maps[2], " ; epsilon = ", maps[3], " ; l_0 = ", maps[4] ))
library(ggridges)
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw(legend.position = "none")
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group)) +
scale_fill_brewer(palette = "RdYlBu") +
theme(legend.position = "none") +
theme_bw()
library(ggridges)
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group), show.legend =F) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
load("~/Documents/GitHub/MonitorDiversification/Data/C2_Varanus_200K.RData")
maps <- getMAPS_ClaDS(c2.varanus, thin = 10)
extract.ClaDS.rates <- function(rates, min.branch, max.branch){
clade.rates <- rates[(min.branch + 4):(max.branch + 4)]
return(clade.rates)
}
odatria.rates <- extract.ClaDS.rates(maps, 7, 49)
hapturo.rates <- extract.ClaDS.rates(maps, 69, 83)
euprep.rates  <- extract.ClaDS.rates(maps, 83, 101)
varanus.rates <- extract.ClaDS.rates(maps, 50, 66)
sotero.rates  <- extract.ClaDS.rates(maps, 119, 137)
empagus.rates <- extract.ClaDS.rates(maps, 112, 118)
african.rates <- extract.ClaDS.rates(maps, 139, 149)
all.rates <- data.frame(sp_rates = odatria.rates, group = "Odatria")
all.rates <- add_row(all.rates,
sp_rates = hapturo.rates,
group = "Hapturosaurus")
all.rates <- add_row(all.rates,
sp_rates = euprep.rates ,
group = "Euprepiosaurus")
all.rates <- add_row(all.rates,
sp_rates = varanus.rates,
group = "Varanus_Papusaurus")
all.rates <- add_row(all.rates,
sp_rates = sotero.rates ,
group = "Soterosaurus")
all.rates <- add_row(all.rates,
sp_rates = empagus.rates,
group = "Empagusia")
all.rates <- add_row(all.rates,
sp_rates = african.rates,
group = "Polydaedalus_Psammosaurus")
library(ggridges)
ggplot(all.rates, aes(x=sp_rates, y=group,
point_color=sp_rates)) +
geom_density_ridges(jittered_points = T, scale = 2,
point_shape = "|", alpha = 0.75,
point_size = 2, size = 0.5,
position = position_points_jitter(height=0),
aes(fill = group), show.legend =F) +
scale_fill_brewer(palette = "RdYlBu") +
theme_bw()
install.packages("googlesheets4")
library(googlesheets4)
library(googlesheets4)
library(googlesheets)
devtools::install_github("tidyverse/googlesheets4")
devtools::install_github("tidyverse/googlesheets4")
library(googlesheets4)
devtools::install_github("tidyverse/googlesheets4")
devtools::install_github("tidyverse/googlesheets4", force = T)
library(googlesheets4)
update.packages("rlang")
library(googlesheets4)
install.packages("rlang")
install.packages("rlang")
library(googlesheets4)
detach(rlang)
detach("rlang")
detach.packages("rlang")
library(rlang)
library(googlesheets4)
